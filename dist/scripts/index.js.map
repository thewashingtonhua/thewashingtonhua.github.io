{"version":3,"sources":["index.js"],"names":["getBase","protocol","window","location","host","base","getPath","pathname","fixRatio","elem","w","h","$","width","height","fixRatioAll","elems","each","classlist","prop","reg","match","split","initNavigator","tmpl","dom","prepend","setTimeout","setChannel","path","channel","replace","length","addClass","resizeHandler","document","ready","on","bp","createElement","curProtocol","src","s","getElementsByTagName","parentNode","insertBefore","_hmt","hm"],"mappings":"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","file":"index.js","sourcesContent":["/* Not in use */\n\nconst getBase = () => {\n  const protocol = window.location.protocol\n  const host = window.location.host\n  const base = `${protocol}//${host}`\n  return base\n}\n\nconst getPath = () => {\n  const pathname = window.location.pathname\n  return pathname\n}\n\nconst fixRatio = (elem, w, h) => {\n  elem = $(elem)\n  const width = elem.width()\n  const height = width * h / w\n  elem.height(height)\n}\n\nconst fixRatioAll = () => {\n  const elems = $('.fix-ratio')\n  elems.each(function () {\n    const elem = $(this)\n    const classlist = elem.prop('class')\n    const reg = /ratio-\\d+-\\d+/\n    const match = classlist.match(reg)\n    if (match) {\n      const w = match[0].split('-')[1]\n      const h = match[0].split('-')[2]\n      fixRatio(elem, w, h)\n    }\n  })\n}\n\nconst initNavigator = () => {\n  const tmpl = `\n    <header id=\"mf-header\">\n      <div class=\"mf-header-wrapper\">\n        <a href=\"${getBase()}\" class=\"logo\">\n          <span>THS</span>\n        </a>\n        <ul class=\"catalogs\">\n          <li id=\"blog\">\n            <a href=\"${getBase()}/blog.html\">博客</a>\n          </li>\n          <li id=\"project\">\n            <a href=\"${getBase()}/project.html\">项目</a>\n          </li>\n          <li id=\"lab\">\n            <a href=\"${getBase()}/lab.html\">实验室</a>\n          </li>\n          <li id=\"friend\">\n            <a href=\"${getBase()}/friend.html\">朋友</a>\n          </li>\n          <li id=\"about\">\n            <a href=\"${getBase()}/about.html\">我</a>\n          </li>\n        </ul>\n      </div>\n    </header>\n  `\n  const dom = $(tmpl)\n  $('body').prepend(dom)\n\n  setTimeout(() => {\n    setChannel()\n  }, 0)\n}\n\nconst setChannel = () => {\n  const path = getPath()\n  let channel = path.split('/')[1]\n  if (channel) {\n    channel = channel.replace(/.html$/, '')\n    const elem = $(`#${channel}`)\n    elem.length && elem.addClass('active')\n  }\n}\n\nconst resizeHandler = () => {\n  fixRatioAll()\n}\n\n$(document).ready(() => {\n  initNavigator()\n  fixRatioAll()\n\n  $(window).on('resize', resizeHandler)\n})\n\n// Baidu ZhanZhang - Auto Push\n;(function () {\n  var bp = document.createElement('script')\n  var curProtocol = window.location.protocol.split(':')[0]\n  if (curProtocol === 'https') {\n    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'\n  } else {\n    bp.src = 'http://push.zhanzhang.baidu.com/push.js'\n  }\n  var s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore(bp, s)\n})()\n\n// Baidu TongJi\n/* eslint-disable no-use-before-define */\nvar _hmt = _hmt || []\n/* eslint-enable no-use-before-define */\n;(function () {\n  var hm = document.createElement('script')\n  hm.src = 'https://hm.baidu.com/hm.js?d82e27389265a031116dc59fe6cd8d1d'\n  var s = document.getElementsByTagName('script')[0]\n  s.parentNode.insertBefore(hm, s)\n})()\n"]}